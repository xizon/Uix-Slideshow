var UixCustomMetaboxes=function(a){"use strict";var b=function(a){this.init=a};return b.prototype={getInstance:function(){return jQuery(document).ready(function(){b.prototype.radio.call(this,".uix-cmb__radio-selector"),b.prototype.toggle.call(this,".uix-cmb__toggle-selector"),b.prototype.color.call(this,".uix-cmb__color-selector"),b.prototype.tabs.call(this,".uix-cmb__tabsgroup-selector"),b.prototype.date.call(this,".uix-cmb__date-selector"),b.prototype.upload.call(this,".uix-cmb__upload-target"),b.prototype.customAttrs.call(this,".uix-cmb__custom-attributes-field",20)}),this},radio:function(a){return jQuery(document).ready(function(){jQuery(a).each(function(){var a=jQuery(this),b=a.data("target-id");a.find("[data-value]").on("click",function(){var c=jQuery(this).attr("data-value");a.find("[data-value]").removeClass("active"),jQuery("#"+b).val(c),jQuery(this).addClass("active")})})}),this},toggle:function(a){return jQuery(document).ready(function(){jQuery(a).each(function(){var a=jQuery(this);a.each(function(){var b=jQuery(this).attr("data-toggle-id");a.hasClass("active")&&(""==b&&void 0===b||(a.closest("[data-target-id]").find(".uix-cmb__toggle-target").hide(),jQuery("#"+b).show()))}),a.on("click",function(){var b=jQuery(this).attr("data-toggle-id");a.removeClass("active"),""==b&&void 0===b||(a.closest("[data-target-id]").find(".uix-cmb__toggle-target").hide(),jQuery("#"+b).show()),jQuery(this).addClass("active")})})}),this},tabs:function(a){return jQuery(document).ready(function(){jQuery(a).each(function(){var a=jQuery(this),b=a.attr("id");a.find("> ul").find("li").each(function(a){jQuery(" a",this).attr("href","#tab-"+a+b)}),a.find(".item").each(function(a){jQuery(this).attr("id","tab-"+a+b)}),a.find("> ul").each(function(){var b,c,d=jQuery(this).find("a");b=jQuery(d.filter('[href="'+location.hash+'"]')[0]||d[0]),b.addClass("active"),c=jQuery(b[0].hash),a.find("> ul").find("li a").removeClass("active"),d.not(b).each(function(){jQuery(this.hash).hide()}),a.find("> ul").find("li:first a").addClass("active"),a.find(".item:first").show(),jQuery(this).find("a").off("click"),jQuery(this).on("click","a",function(a){b.removeClass("active"),c.hide(),b=jQuery(this),c=jQuery(this.hash),b.addClass("active"),c.show(),a.preventDefault()})})})}),this},color:function(a){return jQuery(document).ready(function(){jQuery.isFunction(jQuery.fn.wpColorPicker)&&jQuery(a).wpColorPicker()}),this},date:function(a){return jQuery(document).ready(function(){jQuery.isFunction(jQuery.fn.datepicker)&&jQuery(a).each(function(){var a=jQuery(this),b=a.data("format");a.datepicker({dateFormat:b})})}),this},upload:function(a){return jQuery(document).ready(function(){jQuery(a).each(function(){var a=jQuery(this),b=a.data("insert-preview"),c=a.data("remove-btn"),d=a.data("insert-img"),e="#"+c;""!=jQuery("#"+d).val()?(jQuery(e).show(),a.hide()):a.show(),e&&(jQuery(e).off("click"),jQuery(document).on("click",e,function(c){c.preventDefault(),jQuery("#"+d).val(""),jQuery("#"+b).find("img").attr("src",""),jQuery("#"+b).hide(),jQuery(this).hide(),a.show(),a.data("click",1)}))}),jQuery(a).off("click").data("click",1),jQuery(document).on("click",a,function(a){a.preventDefault();var f,g,b=jQuery(this),c=b.data("insert-preview"),d=b.data("remove-btn"),e=b.data("insert-img"),h="#"+d;if(1==b.data("click")){if(f)return void f.open();f=wp.media({title:"Select Files",button:{text:"Insert into post"},multiple:!1}),f.on("select",function(){g=f.state().get("selection").first().toJSON(),jQuery("#"+e).val(g.url),jQuery("#"+c).find("img").attr("src",g.url),jQuery("#"+c).show(),h&&(jQuery(h).show(),b.hide())}),f.open()}b.data("click",0),h&&(jQuery(h).off("click"),jQuery(document).on("click",h,function(a){a.preventDefault(),jQuery("#"+e).val(""),jQuery("#"+c).find("img").attr("src",""),jQuery("#"+c).hide(),jQuery(this).hide(),b.show(),b.data("click",1)}))})}),this},customAttrs:function(a,b){return jQuery(document).ready(function(){jQuery(a).each(function(){var a=jQuery(this),c=a.find(".uix-cmb__custom-attributes-field__addbtn"),d="#"+a.data("append-id"),e=1,f=b,g=a.data("tmpl");c.off("click"),c.on("click",function(a){return a.preventDefault(),e<f&&(e++,jQuery(d).append(g)),!1}),jQuery(".uix-cmb__custom-attributes-field__removebtn").off("click"),jQuery(document).on("click",".uix-cmb__custom-attributes-field__removebtn",function(a){a.preventDefault();var b=jQuery(this).closest(".uix-cmb__text--div");1==jQuery(".uix-cmb__custom-attributes-field .uix-cmb__text--div").length?(b.find("input").val(""),b.hide()):b.remove(),e--})})}),this}},new b(a)},UixCustomMetaboxesInit=new UixCustomMetaboxes;UixCustomMetaboxesInit.getInstance();